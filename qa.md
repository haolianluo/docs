<!-- --- title: 常见问题QA -->


### Q: 接口不对啊, 报404

### A: 出现404时, 应该依次检查几个方面: 
 
> + URL是否合法, 拼写有无错误, 资源有没有使用复数, 域名协议是否正确, 区分正式环境和测试环境
> + 请求方式是否正确, POST/GET/PUT/DELETE
> + 查看错误提示, 如果URL正确, 看返回结果中`message`中的提示信息
> + 一切正常, 那么报404, 应该是资源不存在(查找的信息不存在, 或者已经失效)
> + 查看debug日志

---

### Q: 奇怪的500错误

### A: 由于在URL中添加`access_token`参数, 同时在Header中加入了 `Authorization`认证信息, 导致认证错误, 此时应当去掉URL中的`access_token`, 两者只能取一个, 替代关系, 下次更新会去掉`access_token`认证方式

---


### Q: Token失效问题
### A: 遇到Token失效, 会报401`Unauthorized`错误, 应当从以下几个方面排查:

> + Token过期了, 默认的Token时限为7天, 超过7天将会失效
> + 用户修改/重置密码/删除 时, 会清空相关的Token
> + 用户令牌和客户端令牌搞混了, 详情见 [两种Token](token)
> + 服务器因为部署的原因清空了Redis缓存, 这种情况一般只会发生在测试环境, 由于Token存在Redis中, 故会受影响 
> + `client_id`,`client_secret`失效了, APP被删除或重置密钥
> + 注意, 两个生成的Token不会互相影响, 只有在进行refresh token时, 刷新完获得新的令牌, 那请求时的refresh_token将会失效,即每次只能使用最新的refresh_token来刷新一次
> + 用户令牌亦不会影响客户端令牌, 两种令牌的区别, 主要是权限不同, 是否与用户关联

